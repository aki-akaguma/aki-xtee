### `aki-xtee` Requirements

#### 1. High-Level Summary
`aki-xtee` is a command-line utility that functions as an enhanced version of the standard Unix `tee` command. It reads from standard input and writes the data to both standard output and one or more specified files simultaneously. Its key feature is the ability to automatically compress the output to files based on their file extensions.

#### 2. Functional Requirements
*   **FR1: Standard I/O Passthrough**
    *   **FR1.1:** The application MUST read data from standard input.
    *   **FR1.2:** The application MUST write all data received from standard input to standard output.
*   **FR2: File Output**
    *   **FR2.1:** The application MUST be able to write the input data to one or more files specified as command-line arguments.
    *   **FR2.2:** By default, if a specified file already exists, it MUST be overwritten.
*   **FR3: Automatic Compression**
    *   **FR3.1:** The application MUST inspect the file extension of each output file to determine the compression format.
    *   **FR3.2:** The application MUST support writing to plain (uncompressed) text files.
    *   **FR3.3:** The application MUST support writing to gzip-compressed files (identified by a `.gz` extension).
    *   **FR3.4:** The application MUST support writing to xz-compressed files (identified by an `.xz` extension).
    *   **FR3.5:** The application MUST support writing to zstd-compressed files (identified by a `.zst` extension).
    *   **FR3.6:** The application MUST support writing to bzip2-compressed files (identified by a `.bz2` extension).
    *   **FR3.7:** The application MUST support writing to lz4-compressed files (identified by a `.lz4` extension).
*   **FR4: Command-Line Interface (CLI)**
    *   **FR4.1:** The application MUST provide a `--help` (and `-H`) flag to display usage information.
    *   **FR4.2:** The application MUST provide a `--version` (and `-V`) flag to display the application's version.
    *   **FR4.3 (Future):** The specification includes an `--append` (or `-a`) option to append to output files instead of overwriting, but this is currently marked as unimplemented.
    *   **FR4.4 (Future):** The specification includes a `--pipe-out` (or `-p`) option, but this is currently marked as unimplemented.

#### 3. Non-Functional Requirements
*   **NFR1: Usability**
    *   **NFR1.1:** The CLI should be simple and intuitive, mimicking the behavior of the standard `tee` command where possible.
*   **NFR2: Portability**
    *   **NFR2.1:** The application must be buildable and runnable on Linux, macOS, and Windows.
*   **NFR3: Error Handling**
    *   **NFR3.1:** The application should handle file I/O errors gracefully (e.g., permission denied).
    *   **NFR3.2:** The application should handle invalid input, such as non-UTF-8 encoded text when writing to plain text files.
